(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"chengeFilter",(function(){return A})),n.d(a,"default",(function(){return S}));var c=n(0),r=n.n(c),o=n(8),i=n.n(o),s=n(6),u=function(e){return function(e){return function(t){return t.payload&&console.log("%c ".concat(t.type,":"),"color: #6a0",t.payload),e(t)}}},l=n(5),d=n(14),b=n.n(d),j=n(18),f=n(4),h=n(15),m=n(11),p=n.n(m),O="https://61c4ceeef1af4a0017d997e8.mockapi.io",v=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,fetch("".concat(O,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.ok?a.json():Promise.reject(new Error(a.statusText)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g="contacts",x=Object(s.b)("contacts/getContactsStatus",(function(){return v(g,e);var e})),y=Object(s.b)("contacts/addContactStatus",(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(f.a)({method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return v(e,a)}(g,e)})),C=Object(s.b)("contacts/deleteContactStatus",(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v("".concat(e,"/").concat(t),Object(f.a)({method:"DELETE"},n))}(g,e)})),w=Object(s.c)({name:"contacts",initialState:{items:[],filter:""},reducers:{chengeFilter:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{filter:t.payload})}},extraReducers:function(e){e.addCase(x.fulfilled,(function(e,t){var n=t.payload;e.items=n})).addCase(y.fulfilled,(function(e,t){return Object(f.a)(Object(f.a)({},e),{},{items:[t.payload].concat(Object(j.a)(e.items))})})).addCase(C.fulfilled,(function(e,t){var n=t.payload,a=e.items.findIndex((function(e){return e.id===n.id}));e.items.splice(a,1)}))}}),A=w.actions.chengeFilter,S=w.reducer,k={key:"filter",storage:b.a,whitelist:["filter"]},F=Object(s.a)({reducer:{contacts:Object(l.g)(k,S)},middleware:function(e){return e({serializableCheck:{ignoredActions:[l.a,l.f,l.b,l.c,l.d,l.e]}}).concat(u)},devTools:!1}),N=Object(l.h)(F),z=n(3),E=n(17),T=n(13),Z=(n(30),n(1)),D=function(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(T.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(""),s=Object(T.a)(i,2),u=s[0],l=s[1];return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)("form",{className:"heading",onSubmit:function(e){e.preventDefault(),t({name:r,number:u}),o(""),l("")},children:[Object(Z.jsxs)("label",{children:["Name",Object(Z.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:r,onChange:function(e){var t=e.target.value;o(t)}})]}),Object(Z.jsxs)("label",{children:["Phone",Object(Z.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u,onChange:function(e){var t=e.target.value;l(t)}})]}),Object(Z.jsx)("button",{className:"button8",type:"submit",children:"Add contact"})]})})},J=(n(32),function(e){var t=e.onDelete,n=Object(z.c)((function(e){return e.contacts.filter})),a=Object(z.c)((function(e){return e.contacts.items}));return Object(Z.jsx)("ul",{className:"list",children:function(){var e=n.toLowerCase();return console.log(a),a.filter((function(t){var n=t.name;return null===n||void 0===n?void 0:n.toLowerCase().includes(e)}))}().map((function(e){var n=e.id,a=e.name,c=e.phone;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)("li",{className:"item",children:[a," : ",c]},n),Object(Z.jsxs)("button",{className:"button9",type:"button",onClick:t(n),children:["Delete ",a]})]})}))})}),L=function(e){e.onChange;var t=Object(z.c)((function(e){return e.contacts.filter})),n=Object(z.b)();return Object(Z.jsxs)("label",{className:"heading",children:["Find contact by name",Object(Z.jsx)("input",{type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t,onChange:function(e){return n(a.chengeFilter(e.target.value))}})]})},P=n(19),q=function(){var e=Object(z.c)((function(e){return e.contacts.items})),t=Object(z.c)((function(e){return e.contacts.filter})),n=Object(z.b)();Object(c.useEffect)((function(){n(x())}),[n]);return Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h1",{children:"Phonebooc"}),Object(Z.jsx)(D,{onSubmit:function(t){var a=t.name,c=t.number;if(e.some((function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===a.toLowerCase()})))alert('name "'.concat(a,'" is already in list'));else{var r={id:Object(P.a)(),name:a,phone:c};console.log(r),n(y(r))}}}),Object(Z.jsx)(L,{onChange:function(e){return n=e.target.value,void t(n);var n}}),Object(Z.jsx)(J,{onDelete:function(e){return function(){n(C(e))}}})]})};i.a.render(Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(z.a,{store:F,children:Object(Z.jsx)(E.a,{loading:null,persistor:N,children:Object(Z.jsx)(q,{})})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.907a61ff.chunk.js.map